#!/usr/bin/env node

// Dependencies
var CdnJsAdder = require("../lib")
  , Minimist = require("minimist")
  , Ul = require("ul")
  , Path = require("path")
  , Logger = require("bug-killer")
  ;

// Parse arguments
var argv = Minimist(process.argv.slice(2));

const CDNJS_ROOT = argv.c ? argv.c : Path.join(Ul.USER_DIR, "cdnjs");

var adder = CdnJsAdder({
    cdnjs: CDNJS_ROOT
  , debug: true
  , libs: []
}, function (err) {
    console.log(err);
});

function seq(i) {
    i = i || 0;
    var cLib = argv._[i];
    if (!cLib) {
        return Logger.log("Done.", "info");
    }
    adder.add(cLib, function (err) {
        seq(i + 1);
    });
}

seq();
